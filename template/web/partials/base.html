{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>#Digital Kondotty</title>
<!-- CSS Files -->
<link href="{% static 'web/css/custom.css' %}" rel="stylesheet">
<link href="{% static 'web/css/responsive.css' %}" rel="stylesheet">
<link href="{% static 'web/css/color.css' %}" rel="stylesheet">
<link href="{% static 'web/css/all.css' %}" rel="stylesheet">
<link href="{% static 'web/css/owl.carousel.min.css' %}" rel="stylesheet">
<link href="{% static 'web/css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'web/css/prettyPhoto.css' %}" rel="stylesheet">
<link href="{% static 'web/css/slick.css' %}" rel="stylesheet">
<link rel="icon" href="{% static 'web/images/DK-FAV.png' %}" type="image/png">
<!--Rev Slider Start-->
<link rel="stylesheet" href="{% static 'web/js/rev-slider/css/settings.css' %}"  type='text/css' media='all' />
<link rel="stylesheet" href="{% static 'web/js/rev-slider/css/layers.css' %}"  type='text/css' media='all' />
<link rel="stylesheet" href="{% static 'web/js/rev-slider/css/navigation.css' %}"  type='text/css' media='all' />
<!--Rev Slider End-->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js' %}"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js' %}"></script>
      <![endif]-->
</head>
<body>
<!--Wrapper Start-->

<div class="wrapper"> 
  <!--Header Start-->
  {% include 'web/partials/header.html' %}
  <!--Header End--> 

  {% block content %}
  {% endblock %}

  {% include 'web/partials/footer.html' %}
</div>
<!--Wrapper End-->

<nav id="sidebar">
  <div id="dismiss"> <i class="fas fa-arrow-right"></i> </div>
  <div class="sidebar-header"> <img src="{% static 'web/images/footer-logo2.png' %}" alt=""> </div>
  <ul class="list-unstyled components">
    <li class="active"> <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false">Home</a>
      <ul class="collapse list-unstyled" id="homeSubmenu">
        <li><a href="index-2.html">Default Home Page</a></li>
        <li><a href="home-two.html">Home Page Two</a></li>
        <li><a href="home-three.html">Home Page Three</a></li>
      </ul>
    </li>
    <li> <a href="aboutus.html">About Us</a> </li>
    <li> <a href="departments.html">Departments</a> </li>
    <li> <a href="{% url 'web:news' %}">News</a> </li>
    <li> <a href="event.html">Events</a> </li>
    <li> <a href="explore-city.html">Explore City</a> </li>
    <li> <a href="services.html">Services</a> </li>
    <li> <a href="contact.html">Contact</a> </li>
  </ul>
</nav>
<div class="overlay"></div>


<!-- JS --> 

<script src="{% static 'web/js/jquery.min.js' %}"></script> 
<script src="{% static 'web/js/bootstrap.min.js' %}"></script> 
<script src="{% static 'web/js/owl.carousel.min.js' %}"></script> 
<script src="{% static 'web/js/jquery.prettyPhoto.js' %}"></script> 
<script src="{% static 'web/js/slick.min.js' %}"></script> 
<script src="{% static 'web/js/custom.js' %}"></script> 
<!--Rev Slider Start--> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/jquery.themepunch.tools.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/jquery.themepunch.revolution.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.actions.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.carousel.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.kenburn.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.layeranimation.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.migration.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.navigation.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.parallax.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.slideanims.min.js' %}"></script> 
<script type="text/javascript" src="{% static 'web/js/rev-slider/js/extensions/revolution.extension.video.min.js' %}"></script>
       

<!-- twitter -->       
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script>
    function fileValidation() {
        var fileInput =
            document.getElementById('resume');
         
        var filePath = fileInput.value;
     
        // Allowing file type
        var allowedExtensions =
                /(\.pdf)$/i;
         
        if (!allowedExtensions.exec(filePath)) {
            alert('Invalid file type');
            fileInput.value = '';
            return false;
        }
        else
        {
         
            // Image preview
          
        }
    }
</script>
<script>
  const url =window.location.href
  const searchform = document.getElementById('search_form')
  const searchInput = document.getElementById('search_input')
  const resultsBox = document.getElementById('search-box-results')
  console.log(resultsBox)
  const csrf = document.getElementsByName('csrfmiddlewaretoken')[0].value
  const sendSearchData = (job)=>{
      $.ajax({
          type:'POST',
          url : '{% url "web:search" %}',
          data : {
              'csrfmiddlewaretoken':csrf,
              'job':job,

          },
          success :(result)=> {
              const data = result.data
              if (Array.isArray(data)){
                  resultsBox.innerHTML = ""
                  data.forEach(job=>{
                      resultsBox.innerHTML+=`
                      <a href="/single-job/${job.pk}" class="search-result">
                          <div>${job.job_title}</div>
                      `
                  })
              }else{
                  if(searchInput.value.length>0){
                      
                      resultsBox.innerHTML = `<h6 class="error-search"><b>${data}</b></h6>`
                  }else{
                      resultsBox.classList.add('not-visible')
                  }
              }
          },
          error:(error)=>{
              console.log(error)
          }
      })
  }
  searchInput.addEventListener('keyup', e=>{
      
      console.log(e.target.value)
      if(resultsBox.classList.contains('not-visible')){
          resultsBox.classList.remove('not-visible')
      }
      sendSearchData(e.target.value)
  })
</script>
</body>
</html>